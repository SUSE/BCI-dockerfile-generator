<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API Documentation &#8212; bci-build-templates  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Staging Bot" href="staging_bot.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Link to this heading">¶</a></h1>
<section id="module-bci_build">
<span id="bci-build-module"></span><h2><a class="reference internal" href="#module-bci_build" title="bci_build"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build</span></code></a> module<a class="headerlink" href="#module-bci_build" title="Link to this heading">¶</a></h2>
</section>
<section id="module-bci_build.package">
<span id="bci-build-package-module"></span><h2><a class="reference internal" href="#module-bci_build.package" title="bci_build.package"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build.package</span></code></a> module<a class="headerlink" href="#module-bci_build.package" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">ApplicationStackContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_version:</span> <span class="pre">'OsVersion'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_name:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_image:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_target_image:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive_arch:</span> <span class="pre">'list[Arch]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_latest:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_singleton_image:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_user:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volumes:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposes_ports:</span> <span class="pre">'list[NetworkPort]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">int]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_flavor:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crate:</span> <span class="pre">'ContainerCrate'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements_via_service:</span> <span class="pre">'list[Replacement]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_labels:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_list:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">list[Package]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_stage_custom_end:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buildcounter_synctag:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_script:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_interpreter:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'/bin/bash'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oci_authors:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_files:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_names:</span> <span class="pre">'list[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_labelprefix_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_description:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_recipe_type:</span> <span class="pre">'BuildType</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kiwi_ignore_packages:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'MIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support_level:</span> <span class="pre">'SupportLevel'</span> <span class="pre">=</span> <span class="pre">&lt;SupportLevel.TECHPREVIEW:</span> <span class="pre">'techpreview'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supported_until:</span> <span class="pre">'datetime.date</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_recommends:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logo_url:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_release_counter:</span> <span class="pre">'dict[OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_publish_registry:</span> <span class="pre">'Registry</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">int'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag_version:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stability_tag:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_versions:</span> <span class="pre">'list[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version_in_uid:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.ApplicationStackContainer" title="Link to this definition">¶</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer.eula">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">eula</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.ApplicationStackContainer.eula" title="Link to this definition">¶</a></dt>
<dd><p>SLE BCI Application containers are non-redistributable by default.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer.image_type">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ImageType</span></em><a class="headerlink" href="#bci_build.package.ApplicationStackContainer.image_type" title="Link to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer.registry_prefix">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">registry_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.ApplicationStackContainer.registry_prefix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer.title">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.ApplicationStackContainer.title" title="Link to this definition">¶</a></dt>
<dd><p>The image title that is inserted into the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.title</span></code>
label.</p>
<p>It is generated from <a class="reference internal" href="#bci_build.package.BaseContainerImage.pretty_name" title="bci_build.package.BaseContainerImage.pretty_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.pretty_name</span></code></a> as
follows: <code class="docutils literal notranslate"><span class="pre">&quot;{distribution_base_name}</span> <span class="pre">BCI</span> <span class="pre">{self.pretty_name}&quot;</span></code>, where
<code class="docutils literal notranslate"><span class="pre">distribution_base_name</span></code> is taken from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">distribution_base_name</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">BaseContainerImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_version:</span> <span class="pre">~bci_build.os_version.OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty_name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_name:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_image:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_target_image:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive_arch:</span> <span class="pre">list[~bci_build.container_attributes.Arch]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_latest:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_singleton_image:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_user:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volumes:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposes_ports:</span> <span class="pre">list[~bci_build.container_attributes.NetworkPort]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">int]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_flavor:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crate:</span> <span class="pre">~bci_build.containercrate.ContainerCrate</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements_via_service:</span> <span class="pre">list[~bci_build.package.Replacement]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_labels:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_list:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">list[~bci_build.package.Package]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_end:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_stage_custom_end:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buildcounter_synctag:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_script:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_interpreter:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'/bin/bash'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oci_authors:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_files:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_names:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_labelprefix_end:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_description:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_recipe_type:</span> <span class="pre">~bci_build.container_attributes.BuildType</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kiwi_ignore_packages:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'MIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support_level:</span> <span class="pre">~bci_build.container_attributes.SupportLevel</span> <span class="pre">=</span> <span class="pre">SupportLevel.TECHPREVIEW</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supported_until:</span> <span class="pre">~datetime.date</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_recommends:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logo_url:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_release_counter:</span> <span class="pre">dict[~bci_build.os_version.OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_publish_registry:</span> <span class="pre">~bci_build.registry.Registry</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.BaseContainerImage" title="Link to this definition">¶</a></dt>
<dd><p>Base class for all Base Containers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.additional_names">
<span class="sig-name descname"><span class="pre">additional_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.additional_names" title="Link to this definition">¶</a></dt>
<dd><p>Additional names under which this image should be published alongside
<a class="reference internal" href="#bci_build.package.BaseContainerImage.name" title="bci_build.package.BaseContainerImage.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>.
These names are only inserted into the
<a class="reference internal" href="#bci_build.package.BaseContainerImage.build_tags" title="bci_build.package.BaseContainerImage.build_tags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">build_tags</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.base_image_registry">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_image_registry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.base_image_registry" title="Link to this definition">¶</a></dt>
<dd><p>The registry where the base image is available on.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_flavor">
<span class="sig-name descname"><span class="pre">build_flavor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_flavor" title="Link to this definition">¶</a></dt>
<dd><p>build flavors to produce for this container variant</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_recipe_type">
<span class="sig-name descname"><span class="pre">build_recipe_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">BuildType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_recipe_type" title="Link to this definition">¶</a></dt>
<dd><p>Define whether this container image is built using docker or kiwi.
If not set, then the build type will default to docker from SP4 onwards.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_release">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_release</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_release" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_stage_custom_end">
<span class="sig-name descname"><span class="pre">build_stage_custom_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_stage_custom_end" title="Link to this definition">¶</a></dt>
<dd><p>This string is appended to the the build stage in a multistage build and can
contain arbitrary instructions valid for a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_tags">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_tags" title="Link to this definition">¶</a></dt>
<dd><p>All build tags that will be added to this image. Note that build tags are
full paths on the registry and not just a tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_version">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_version" title="Link to this definition">¶</a></dt>
<dd><p>Define the BuildVersion that is used for determining which container build
is newer than the other in the build service.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.buildcounter_synctag">
<span class="sig-name descname"><span class="pre">buildcounter_synctag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.buildcounter_synctag" title="Link to this definition">¶</a></dt>
<dd><p>This string defines which build counter identifier should be used for this
container. can be an arbitrary string is used to derive the checkin-counter.
Defaults to the main package for packages with a flavor.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.cmd" title="Link to this definition">¶</a></dt>
<dd><p>An optional CMD for the image, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.cmd_docker">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cmd_docker</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.cmd_docker" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.cmd_kiwi">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cmd_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.cmd_kiwi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.config_sh">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config_sh</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.config_sh" title="Link to this definition">¶</a></dt>
<dd><p>The full <code class="file docutils literal notranslate"><span class="pre">config.sh</span></code> script required for kiwi builds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.config_sh_interpreter">
<span class="sig-name descname"><span class="pre">config_sh_interpreter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/bin/bash'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.config_sh_interpreter" title="Link to this definition">¶</a></dt>
<dd><p>The interpreter of the <code class="file docutils literal notranslate"><span class="pre">config.sh</span></code> script that is executed by kiwi
during the image build.
It defaults to <code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> and has no effect for <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>
based builds.
<em>Warning:</em> Using a different interpreter than <code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> could
lead to unpredictable results as kiwi’s internal functions are written
for bash and not for a different shell.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.config_sh_script">
<span class="sig-name descname"><span class="pre">config_sh_script</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.config_sh_script" title="Link to this definition">¶</a></dt>
<dd><p>A script that is put into <code class="file docutils literal notranslate"><span class="pre">config.sh</span></code> if a kiwi image is
created. If a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> based build is used then this script is
prependend with a <a class="reference internal" href="#bci_build.package.DOCKERFILE_RUN" title="bci_build.package.DOCKERFILE_RUN"><code class="xref py py-const docutils literal notranslate"><span class="pre">DOCKERFILE_RUN</span></code></a> and added
at the end of the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>. It must thus fit on a single line if
you want to be able to build from a kiwi and <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> at the
same time!</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.crate">
<span class="sig-name descname"><span class="pre">crate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ContainerCrate</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.crate" title="Link to this definition">¶</a></dt>
<dd><p>create that this container is part of</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.custom_description">
<span class="sig-name descname"><span class="pre">custom_description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.custom_description" title="Link to this definition">¶</a></dt>
<dd><p>Provide a custom description instead of the automatically generated one</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.custom_end">
<span class="sig-name descname"><span class="pre">custom_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.custom_end" title="Link to this definition">¶</a></dt>
<dd><p>This string is appended to the automatically generated dockerfile and can
contain arbitrary instructions valid for a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting both this property and <a class="reference internal" href="#bci_build.package.BaseContainerImage.config_sh_script" title="bci_build.package.BaseContainerImage.config_sh_script"><code class="xref py py-attr docutils literal notranslate"><span class="pre">config_sh_script</span></code></a>
is not possible and will result in an error.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.custom_labelprefix_end">
<span class="sig-name descname"><span class="pre">custom_labelprefix_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.custom_labelprefix_end" title="Link to this definition">¶</a></dt>
<dd><p>By default the containers get the labelprefix
<code class="docutils literal notranslate"><span class="pre">{label_prefix}.bci.{self.name}</span></code>. If this value is not an empty string,
then it is used instead of the name after <code class="docutils literal notranslate"><span class="pre">com.suse.bci.</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.description">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.description" title="Link to this definition">¶</a></dt>
<dd><p>The description of this image which is inserted into the
<code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.description</span></code> label.</p>
<p>If <a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_description" title="bci_build.package.BaseContainerImage.custom_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.custom_description</span></code></a> is set, then that
value is used. Custom descriptions can use str.format() substitution to
expand the custom description with the following options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{pretty_name}</span></code>: the value of the pretty_name property</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{based_on_container}</span></code>: the standard “based on the $distro Base Container Image” suffix that descriptions have</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{podman_only}</span></code>: “This container is only supported with podman.”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{privileged_only}</span></code>: “This container is only supported in privileged mode.”</p></li>
</ul>
<p>Otherwise it reuses
<a class="reference internal" href="#bci_build.package.BaseContainerImage.pretty_name" title="bci_build.package.BaseContainerImage.pretty_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.pretty_name</span></code></a> to generate a description.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.dockerfile_custom_end">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dockerfile_custom_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.dockerfile_custom_end" title="Link to this definition">¶</a></dt>
<dd><p>This part is appended at the end of the <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>. It is either
generated from <a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_end" title="bci_build.package.BaseContainerImage.custom_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.custom_end</span></code></a> or by prepending
<code class="docutils literal notranslate"><span class="pre">RUN</span></code> in front of <a class="reference internal" href="#bci_build.package.BaseContainerImage.config_sh_script" title="bci_build.package.BaseContainerImage.config_sh_script"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.config_sh_script</span></code></a>. The
later implies that the script in that variable fits on a single line or
newlines are escaped, e.g. via <a class="reference external" href="https://stackoverflow.com/a/33439625">ansi escapes</a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.dockerfile_from_line">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dockerfile_from_line</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.dockerfile_from_line" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.dockerfile_from_target_ref">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dockerfile_from_target_ref</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.dockerfile_from_target_ref" title="Link to this definition">¶</a></dt>
<dd><p>Provide the reference for the target image if multistage build is used, empty string otherwise.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint">
<span class="sig-name descname"><span class="pre">entrypoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint" title="Link to this definition">¶</a></dt>
<dd><p>An optional entrypoint for the image, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code>
If you provide a string, then it will be included in the container build
recipe as is, i.e. it will be called via a shell as
<strong class="command">sh -c &quot;MY_CMD&quot;</strong>.
If your entrypoint must not be called through a shell, then pass the
binary and its parameters as a list</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint_docker">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entrypoint_docker</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint_docker" title="Link to this definition">¶</a></dt>
<dd><p>The entrypoint line in a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint_kiwi">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entrypoint_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint_kiwi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint_user">
<span class="sig-name descname"><span class="pre">entrypoint_user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint_user" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.env">
<span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.env" title="Link to this definition">¶</a></dt>
<dd><p>Extra environment variables to be set in the container</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.env_lines">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.env_lines" title="Link to this definition">¶</a></dt>
<dd><p>Part of the <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> that sets every environment variable defined
in <a class="reference internal" href="#bci_build.package.BaseContainerImage.env" title="bci_build.package.BaseContainerImage.env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">env</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.eula">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">eula</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.eula" title="Link to this definition">¶</a></dt>
<dd><p>EULA covering this image. can be <code class="docutils literal notranslate"><span class="pre">sle-eula</span></code> or <code class="docutils literal notranslate"><span class="pre">sle-bci</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.exclusive_arch">
<span class="sig-name descname"><span class="pre">exclusive_arch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Arch</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.exclusive_arch" title="Link to this definition">¶</a></dt>
<dd><p>Architectures of this image.</p>
<p>If supplied, then this image will be restricted to only build on the
supplied architectures. By default, there is no restriction</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.expose_dockerfile">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expose_dockerfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.expose_dockerfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.exposes_kiwi">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exposes_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.exposes_kiwi" title="Link to this definition">¶</a></dt>
<dd><p>The EXPOSES for this image as kiwi xml elements.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.exposes_ports">
<span class="sig-name descname"><span class="pre">exposes_ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><span class="pre">NetworkPort</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.exposes_ports" title="Link to this definition">¶</a></dt>
<dd><p>An optional list of port exposes, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_files">
<span class="sig-name descname"><span class="pre">extra_files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_files" title="Link to this definition">¶</a></dt>
<dd><p>Additional files that belong into this container-package.
The key is the filename, the values are the file contents.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_label_lines">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extra_label_lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_label_lines" title="Link to this definition">¶</a></dt>
<dd><p>Lines for a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> to set the additional labels defined in
<a class="reference internal" href="#bci_build.package.BaseContainerImage.extra_labels" title="bci_build.package.BaseContainerImage.extra_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.extra_labels</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_label_xml_lines">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extra_label_xml_lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_label_xml_lines" title="Link to this definition">¶</a></dt>
<dd><p>XML Elements for a kiwi build description to set the additional labels
defined in <a class="reference internal" href="#bci_build.package.BaseContainerImage.extra_labels" title="bci_build.package.BaseContainerImage.extra_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.extra_labels</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_labels">
<span class="sig-name descname"><span class="pre">extra_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_labels" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.from_image">
<span class="sig-name descname"><span class="pre">from_image</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.from_image" title="Link to this definition">¶</a></dt>
<dd><p>The container from which the build stage is running. On SLE15, this defaults to
<code class="docutils literal notranslate"><span class="pre">suse/sle15:15.$SP</span></code> for Application Containers and <code class="docutils literal notranslate"><span class="pre">bci/bci-base:15.$SP</span></code>
for all other images. On openSUSE, <code class="docutils literal notranslate"><span class="pre">opensuse/tumbleweed:latest</span></code> is used
when an empty string is used.</p>
<p>When from image is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then this image will not be based on
<strong>anything</strong>, i.e. the <code class="docutils literal notranslate"><span class="pre">FROM</span></code> line is missing in the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.from_target_image">
<span class="sig-name descname"><span class="pre">from_target_image</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.from_target_image" title="Link to this definition">¶</a></dt>
<dd><p>The container that is used to install this image into. If this is not set, then
only a single stage build is produced, otherwise a multistage build</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.image_ref_name">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_ref_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.image_ref_name" title="Link to this definition">¶</a></dt>
<dd><p>The immutable reference for this target under which this image can be pulled. It is used
to set the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.ref.name</span></code> OCI annotation and defaults to
<code class="docutils literal notranslate"><span class="pre">{self.build_tags[0]}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.image_type">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ImageType</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.image_type" title="Link to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.is_base_container_annotation_available">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_base_container_annotation_available</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.is_base_container_annotation_available" title="Link to this definition">¶</a></dt>
<dd><p>return True if the obs-service-kiwi_metainfo_helper can provide base.name/digest annotations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.is_latest">
<span class="sig-name descname"><span class="pre">is_latest</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.is_latest" title="Link to this definition">¶</a></dt>
<dd><p>Determines whether this image will have the <code class="docutils literal notranslate"><span class="pre">latest</span></code> tag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.is_singleton_image">
<span class="sig-name descname"><span class="pre">is_singleton_image</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.is_singleton_image" title="Link to this definition">¶</a></dt>
<dd><p>Determines whether only one version of this image will be published
under the same registry path.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_additional_tags">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_additional_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_additional_tags" title="Link to this definition">¶</a></dt>
<dd><p>Entry for the <code class="docutils literal notranslate"><span class="pre">additionaltags</span></code> attribute in the kiwi build
description.</p>
<p>This attribute is used by kiwi to add additional tags to the image under
it’s primary name. This string contains a coma separated list of all
build tags (except for the primary one) that have the <strong>same</strong> name as
the image itself.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_derived_from_entry">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_derived_from_entry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_derived_from_entry" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_env_entry">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_env_entry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_env_entry" title="Link to this definition">¶</a></dt>
<dd><p>Environment variable settings for a kiwi build recipe.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_ignore_packages">
<span class="sig-name descname"><span class="pre">kiwi_ignore_packages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_ignore_packages" title="Link to this definition">¶</a></dt>
<dd><p>Define packages that should be ignored by kiwi in the creation of the
final container image even if dependencies would otherwise pull them in.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_packages">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_packages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_packages" title="Link to this definition">¶</a></dt>
<dd><p>The package list as xml elements that are inserted into a kiwi build
description file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_version">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_version" title="Link to this definition">¶</a></dt>
<dd><p>Return a BuildVersion that is compatible with the requirements that KIWI imposes.
<a class="reference external" href="https://osinside.github.io/kiwi/image_description/elements.html#preferences-version">https://osinside.github.io/kiwi/image_description/elements.html#preferences-version</a></p>
<p>It a version strictly in the format X.Y.Z.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.labelprefix">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labelprefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.labelprefix" title="Link to this definition">¶</a></dt>
<dd><p>The label prefix used to duplicate the labels. See
<a class="reference external" href="https://en.opensuse.org/Building_derived_containers#Labels">https://en.opensuse.org/Building_derived_containers#Labels</a> for
further information.</p>
<p>This value is by default <code class="docutils literal notranslate"><span class="pre">com.suse.bci.{self.name}</span></code> for images of type
<code class="xref py py-attr docutils literal notranslate"><span class="pre">ImageType.SLE_BCI</span></code> and <code class="docutils literal notranslate"><span class="pre">`com.suse.application.{self.name}</span></code>
for images of type <code class="xref py py-attr docutils literal notranslate"><span class="pre">ImageType.APPLICATION</span></code> unless
<a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_labelprefix_end" title="bci_build.package.BaseContainerImage.custom_labelprefix_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.custom_labelprefix_end</span></code></a> is set. In that
case <code class="docutils literal notranslate"><span class="pre">self.name</span></code> is replaced by
<a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_labelprefix_end" title="bci_build.package.BaseContainerImage.custom_labelprefix_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">custom_labelprefix_end</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.license">
<span class="sig-name descname"><span class="pre">license</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MIT'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.license" title="Link to this definition">¶</a></dt>
<dd><p>A license string to be placed in a comment at the top of the Dockerfile
or kiwi build description file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.lifecycle_url">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lifecycle_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.lifecycle_url" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.logo_url">
<span class="sig-name descname"><span class="pre">logo_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.logo_url" title="Link to this definition">¶</a></dt>
<dd><p>URL to the logo of this container image.
This value is added to the <code class="docutils literal notranslate"><span class="pre">io.artifacthub.package.logo-url</span></code> label if
present</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.min_release_counter">
<span class="sig-name descname"><span class="pre">min_release_counter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><span class="pre">OsVersion</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.min_release_counter" title="Link to this definition">¶</a></dt>
<dd><p>Optional release counter that will be used in <code class="docutils literal notranslate"><span class="pre">#!BuildRelease</span></code>
magic comment to ensure that versions are sequentially increasing.
In cases where containers switch the base OS the counter resets and
it needs help to keep images in a chronological order.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of this image. It is used to generate the build tags, i.e. it
defines under which name this image is published.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.no_recommends">
<span class="sig-name descname"><span class="pre">no_recommends</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.no_recommends" title="Link to this definition">¶</a></dt>
<dd><p>flag whether to not install recommended packages in the call to
<strong class="command">zypper</strong> in <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.oci_authors">
<span class="sig-name descname"><span class="pre">oci_authors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.oci_authors" title="Link to this definition">¶</a></dt>
<dd><p>The oci image author annotation for this image, defaults to SUSE/openSUSE</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.oci_version">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">oci_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.oci_version" title="Link to this definition">¶</a></dt>
<dd><p>The “main” version label of this image.</p>
<p>It is added as the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.version</span></code> label to the
container image.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.os_version">
<span class="sig-name descname"><span class="pre">os_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">OsVersion</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.os_version" title="Link to this definition">¶</a></dt>
<dd><p>The SLE service pack to which this package belongs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.package_list">
<span class="sig-name descname"><span class="pre">package_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.Package" title="bci_build.package.Package"><span class="pre">Package</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.package_list" title="Link to this definition">¶</a></dt>
<dd><p>Packages to be installed inside the container image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.package_name">
<span class="sig-name descname"><span class="pre">package_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.package_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.packages">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">packages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.packages" title="Link to this definition">¶</a></dt>
<dd><p>The list of packages joined so that it can be appended to a
<strong class="command">zypper in</strong>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.packages_to_delete">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">packages_to_delete</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.packages_to_delete" title="Link to this definition">¶</a></dt>
<dd><p>The list of packages joined that can be passed to zypper -n rm after an install`.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.prepare_template">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prepare_template</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#bci_build.package.BaseContainerImage.prepare_template" title="Link to this definition">¶</a></dt>
<dd><p>Hook to do delayed expensive work prior template rendering</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.pretty_name">
<span class="sig-name descname"><span class="pre">pretty_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.pretty_name" title="Link to this definition">¶</a></dt>
<dd><p>Human readable name that will be inserted into the image title and description</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.pretty_reference">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pretty_reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.pretty_reference" title="Link to this definition">¶</a></dt>
<dd><p>Returns the human readable registry URL to this image. It is intended
to be used in the image documentation.</p>
<p>This url needn’t point to an exact version-release but can include just
the major os version or the latest tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.publish_registry">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">publish_registry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Registry</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.publish_registry" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.readme">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">readme</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.readme" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.readme_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">readme_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.readme_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.readme_path">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">readme_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.readme_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.readme_url">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">readme_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.readme_url" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.reference">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.reference" title="Link to this definition">¶</a></dt>
<dd><p>The primary URL via which this image can be pulled. It is used to set the
<code class="docutils literal notranslate"><span class="pre">org.opensuse.reference</span></code> label and defaults to
<code class="docutils literal notranslate"><span class="pre">{self.registry}/{self.image_ref_name}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.registry">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">registry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.registry" title="Link to this definition">¶</a></dt>
<dd><p>The registry where the image is available on.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.registry_prefix">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">registry_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.registry_prefix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.release_stage">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">release_stage</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReleaseStage</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.release_stage" title="Link to this definition">¶</a></dt>
<dd><p>This container images’ release stage.</p>
<p>It is <code class="xref py py-attr docutils literal notranslate"><span class="pre">RELEASED</span></code> if the container images’
operating system version is in the list
<code class="xref py py-const docutils literal notranslate"><span class="pre">RELEASED_OS_VERSIONS</span></code>. Otherwise it
is <code class="xref py py-attr docutils literal notranslate"><span class="pre">BETA</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.replacements_via_service">
<span class="sig-name descname"><span class="pre">replacements_via_service</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.Replacement" title="bci_build.package.Replacement"><span class="pre">Replacement</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.replacements_via_service" title="Link to this definition">¶</a></dt>
<dd><p>Add any replacements via <a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version">obs-service-replace_using_package_version</a>
that are used in this image into this list.
See also <a class="reference internal" href="#bci_build.package.Replacement" title="bci_build.package.Replacement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Replacement</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.support_level">
<span class="sig-name descname"><span class="pre">support_level</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SupportLevel</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'techpreview'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.support_level" title="Link to this definition">¶</a></dt>
<dd><p>The support level for this image, defaults to <code class="xref py py-attr docutils literal notranslate"><span class="pre">SupportLevel.TECHPREVIEW</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.supported_until">
<span class="sig-name descname"><span class="pre">supported_until</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.13)"><span class="pre">date</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.supported_until" title="Link to this definition">¶</a></dt>
<dd><p>The support level end date</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.title">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.title" title="Link to this definition">¶</a></dt>
<dd><p>The image title that is inserted into the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.title</span></code>
label.</p>
<p>It is generated from <a class="reference internal" href="#bci_build.package.BaseContainerImage.pretty_name" title="bci_build.package.BaseContainerImage.pretty_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.pretty_name</span></code></a> as
follows: <code class="docutils literal notranslate"><span class="pre">&quot;{distribution_base_name}</span> <span class="pre">BCI</span> <span class="pre">{self.pretty_name}&quot;</span></code>, where
<code class="docutils literal notranslate"><span class="pre">distribution_base_name</span></code> is taken from
<code class="xref py py-attr docutils literal notranslate"><span class="pre">distribution_base_name</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.uid">
<em class="property"><span class="k"><span class="pre">abstract</span></span><span class="w"> </span><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.uid" title="Link to this definition">¶</a></dt>
<dd><p>unique identifier of this image, either its name or <code class="docutils literal notranslate"><span class="pre">$name-$tag_version</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.url">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.url" title="Link to this definition">¶</a></dt>
<dd><p>The default url that is put into the
<code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.url</span></code> label</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.volume_dockerfile">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume_dockerfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.volume_dockerfile" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.volumes">
<span class="sig-name descname"><span class="pre">volumes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.volumes" title="Link to this definition">¶</a></dt>
<dd><p>An optional list of volumes, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.volumes_kiwi">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volumes_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.volumes_kiwi" title="Link to this definition">¶</a></dt>
<dd><p>The volumes for this image as xml elements that are inserted into
a container.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.write_files_to_folder">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_files_to_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bci_build.package.BaseContainerImage.write_files_to_folder" title="Link to this definition">¶</a></dt>
<dd><p>Writes all files required to build this image into the destination folder and
returns the filenames (not full paths) that were written to the disk.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.package.DOCKERFILE_RUN">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">DOCKERFILE_RUN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RUN</span> <span class="pre">set</span> <span class="pre">-euo</span> <span class="pre">pipefail;'</span></em><a class="headerlink" href="#bci_build.package.DOCKERFILE_RUN" title="Link to this definition">¶</a></dt>
<dd><p>a <code class="docutils literal notranslate"><span class="pre">RUN</span></code> command with a common set of bash flags applied to prevent errors
from not being noticed</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">DevelopmentContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_version:</span> <span class="pre">'OsVersion'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_name:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_image:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_target_image:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive_arch:</span> <span class="pre">'list[Arch]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_latest:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_singleton_image:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_user:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volumes:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposes_ports:</span> <span class="pre">'list[NetworkPort]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">int]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_flavor:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crate:</span> <span class="pre">'ContainerCrate'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements_via_service:</span> <span class="pre">'list[Replacement]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_labels:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_list:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">list[Package]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_stage_custom_end:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buildcounter_synctag:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_script:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_interpreter:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'/bin/bash'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oci_authors:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_files:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_names:</span> <span class="pre">'list[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_labelprefix_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_description:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_recipe_type:</span> <span class="pre">'BuildType</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kiwi_ignore_packages:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'MIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support_level:</span> <span class="pre">'SupportLevel'</span> <span class="pre">=</span> <span class="pre">&lt;SupportLevel.TECHPREVIEW:</span> <span class="pre">'techpreview'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supported_until:</span> <span class="pre">'datetime.date</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_recommends:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logo_url:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_release_counter:</span> <span class="pre">'dict[OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_publish_registry:</span> <span class="pre">'Registry</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">int'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag_version:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stability_tag:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_versions:</span> <span class="pre">'list[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version_in_uid:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.DevelopmentContainer" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.additional_versions">
<span class="sig-name descname"><span class="pre">additional_versions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.additional_versions" title="Link to this definition">¶</a></dt>
<dd><p>versions that to include as tags to this container</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.build_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.build_name" title="Link to this definition">¶</a></dt>
<dd><p>Create a stable BuildName, either by using stability_tag or by falling back to _variant.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.build_tags">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.build_tags" title="Link to this definition">¶</a></dt>
<dd><p>All build tags that will be added to this image. Note that build tags are
full paths on the registry and not just a tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.build_version">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.build_version" title="Link to this definition">¶</a></dt>
<dd><p>Define the BuildVersion that is used for determining which container build
is newer than the other in the build service.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.image_ref_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_ref_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.image_ref_name" title="Link to this definition">¶</a></dt>
<dd><p>The immutable reference for this target under which this image can be pulled. It is used
to set the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.ref.name</span></code> OCI annotation and defaults to
<code class="docutils literal notranslate"><span class="pre">{self.build_tags[0]}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.image_type">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ImageType</span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.image_type" title="Link to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.oci_version">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">oci_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.oci_version" title="Link to this definition">¶</a></dt>
<dd><p>The “main” version label of this image.</p>
<p>It is added as the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.version</span></code> label to the
container image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.prepare_template">
<span class="sig-name descname"><span class="pre">prepare_template</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#bci_build.package.DevelopmentContainer.prepare_template" title="Link to this definition">¶</a></dt>
<dd><p>Hook to do delayed expensive work prior template rendering</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.pretty_reference">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pretty_reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.pretty_reference" title="Link to this definition">¶</a></dt>
<dd><p>Returns the human readable registry URL to this image. It is intended
to be used in the image documentation.</p>
<p>This url needn’t point to an exact version-release but can include just
the major os version or the latest tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.reference">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.reference" title="Link to this definition">¶</a></dt>
<dd><p>The primary URL via which this image can be pulled. It is used to set the
<code class="docutils literal notranslate"><span class="pre">org.opensuse.reference</span></code> label and defaults to
<code class="docutils literal notranslate"><span class="pre">{self.registry}/{self.image_ref_name}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.registry_prefix">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">registry_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.registry_prefix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.stability_tag">
<span class="sig-name descname"><span class="pre">stability_tag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.stability_tag" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.tag_version">
<span class="sig-name descname"><span class="pre">tag_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.tag_version" title="Link to this definition">¶</a></dt>
<dd><p>the floating tag version-$variant to add to the tags if set. used to determine
a stable buildname</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.uid">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.uid" title="Link to this definition">¶</a></dt>
<dd><p>unique identifier of this image, either its name or <code class="docutils literal notranslate"><span class="pre">$name-$tag_version</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.version">
<span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.version" title="Link to this definition">¶</a></dt>
<dd><p>the main version of the language or application inside this container
used for <cite>org.opencontainers.image.version</cite></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.DevelopmentContainer.version_in_uid">
<span class="sig-name descname"><span class="pre">version_in_uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#bci_build.package.DevelopmentContainer.version_in_uid" title="Link to this definition">¶</a></dt>
<dd><p>flag whether the version is included in the uid</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.package.LOG_CLEAN">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">LOG_CLEAN</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'rm</span> <span class="pre">-rf</span> <span class="pre">{/target,}/var/log/{alternatives.log,lastlog,tallylog,zypper.log,zypp/history,YaST2};</span> <span class="pre">rm</span> <span class="pre">-f</span> <span class="pre">{/target,}/etc/shadow-'</span></em><a class="headerlink" href="#bci_build.package.LOG_CLEAN" title="Link to this definition">¶</a></dt>
<dd><p>Remove various log files. While it is possible to just <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">/var/log/*</span></code>,
that would also remove some package owned directories (not %ghost)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.OsContainer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">OsContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_version:</span> <span class="pre">'OsVersion'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_name:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_image:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_target_image:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusive_arch:</span> <span class="pre">'list[Arch]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_latest:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_singleton_image:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_user:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volumes:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposes_ports:</span> <span class="pre">'list[NetworkPort]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">int]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_flavor:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crate:</span> <span class="pre">'ContainerCrate'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacements_via_service:</span> <span class="pre">'list[Replacement]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_labels:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_list:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">list[Package]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_stage_custom_end:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buildcounter_synctag:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_script:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_sh_interpreter:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'/bin/bash'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oci_authors:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_files:</span> <span class="pre">'dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytes]</span> <span class="pre">|</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_names:</span> <span class="pre">'list[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_labelprefix_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_description:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_recipe_type:</span> <span class="pre">'BuildType</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kiwi_ignore_packages:</span> <span class="pre">'list[str]</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'MIT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support_level:</span> <span class="pre">'SupportLevel'</span> <span class="pre">=</span> <span class="pre">&lt;SupportLevel.TECHPREVIEW:</span> <span class="pre">'techpreview'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supported_until:</span> <span class="pre">'datetime.date</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_recommends:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logo_url:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_release_counter:</span> <span class="pre">'dict[OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_publish_registry:</span> <span class="pre">'Registry</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.OsContainer" title="Link to this definition">¶</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.build_tags">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.OsContainer.build_tags" title="Link to this definition">¶</a></dt>
<dd><p>All build tags that will be added to this image. Note that build tags are
full paths on the registry and not just a tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.image_ref_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_ref_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.image_ref_name" title="Link to this definition">¶</a></dt>
<dd><p>The immutable reference for this target under which this image can be pulled. It is used
to set the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.ref.name</span></code> OCI annotation and defaults to
<code class="docutils literal notranslate"><span class="pre">{self.build_tags[0]}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.image_type">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ImageType</span></em><a class="headerlink" href="#bci_build.package.OsContainer.image_type" title="Link to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.oci_version">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">oci_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.oci_version" title="Link to this definition">¶</a></dt>
<dd><p>The “main” version label of this image.</p>
<p>It is added as the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.version</span></code> label to the
container image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.prepare_template">
<span class="sig-name descname"><span class="pre">prepare_template</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#bci_build.package.OsContainer.prepare_template" title="Link to this definition">¶</a></dt>
<dd><p>Hook to do delayed expensive work prior template rendering</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.pretty_reference">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pretty_reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.pretty_reference" title="Link to this definition">¶</a></dt>
<dd><p>Returns the human readable registry URL to this image. It is intended
to be used in the image documentation.</p>
<p>This url needn’t point to an exact version-release but can include just
the major os version or the latest tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.reference">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.reference" title="Link to this definition">¶</a></dt>
<dd><p>The primary URL via which this image can be pulled. It is used to set the
<code class="docutils literal notranslate"><span class="pre">org.opensuse.reference</span></code> label and defaults to
<code class="docutils literal notranslate"><span class="pre">{self.registry}/{self.image_ref_name}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.uid">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.uid" title="Link to this definition">¶</a></dt>
<dd><p>unique identifier of this image, either its name or <code class="docutils literal notranslate"><span class="pre">$name-$tag_version</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.version_to_container_os_version">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version_to_container_os_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OsVersion</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bci_build.package.OsContainer.version_to_container_os_version" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.Package">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">Package</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkg_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PackageType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">PackageType.IMAGE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.Package" title="Link to this definition">¶</a></dt>
<dd><p>Representation of a package in a kiwi build, for Dockerfile based builds the
<a class="reference internal" href="#bci_build.package.Package.pkg_type" title="bci_build.package.Package.pkg_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pkg_type</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Package.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.Package.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the package</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Package.pkg_type">
<span class="sig-name descname"><span class="pre">pkg_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PackageType</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'image'</span></em><a class="headerlink" href="#bci_build.package.Package.pkg_type" title="Link to this definition">¶</a></dt>
<dd><p>The package type. This parameter is only applicable for kiwi builds and
defines into which <code class="docutils literal notranslate"><span class="pre">&lt;packages&gt;</span></code> element this package is inserted.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.ParseVersion">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">ParseVersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.ParseVersion" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ParseVersion.MAJOR">
<span class="sig-name descname"><span class="pre">MAJOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'major'</span></em><a class="headerlink" href="#bci_build.package.ParseVersion.MAJOR" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ParseVersion.MINOR">
<span class="sig-name descname"><span class="pre">MINOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'minor'</span></em><a class="headerlink" href="#bci_build.package.ParseVersion.MINOR" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ParseVersion.OFFSET">
<span class="sig-name descname"><span class="pre">OFFSET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'offset'</span></em><a class="headerlink" href="#bci_build.package.ParseVersion.OFFSET" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ParseVersion.PATCH">
<span class="sig-name descname"><span class="pre">PATCH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'patch'</span></em><a class="headerlink" href="#bci_build.package.ParseVersion.PATCH" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ParseVersion.PATCH_UPDATE">
<span class="sig-name descname"><span class="pre">PATCH_UPDATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'patch_update'</span></em><a class="headerlink" href="#bci_build.package.ParseVersion.PATCH_UPDATE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.Replacement">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">Replacement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex_in_build_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ParseVersion" title="bci_build.package.ParseVersion"><span class="pre">ParseVersion</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.Replacement" title="Link to this definition">¶</a></dt>
<dd><p>Represents a replacement via the <a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version">obs-service-replace_using_package_version</a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.file_name">
<span class="sig-name descname"><span class="pre">file_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.Replacement.file_name" title="Link to this definition">¶</a></dt>
<dd><p>override file name, if unset use <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> or <code class="file docutils literal notranslate"><span class="pre">$pkg_name.kiwi</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.package_name">
<span class="sig-name descname"><span class="pre">package_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.Replacement.package_name" title="Link to this definition">¶</a></dt>
<dd><p>package name to be queried for the version</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.parse_version">
<span class="sig-name descname"><span class="pre">parse_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ParseVersion" title="bci_build.package.ParseVersion"><span class="pre">ParseVersion</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.Replacement.parse_version" title="Link to this definition">¶</a></dt>
<dd><p>specify how the version should be formatted, see
<a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version#usage">https://github.com/openSUSE/obs-service-replace_using_package_version#usage</a>
for further details</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.regex_in_build_description">
<span class="sig-name descname"><span class="pre">regex_in_build_description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.Replacement.regex_in_build_description" title="Link to this definition">¶</a></dt>
<dd><p>regex to be replaced in <a class="reference internal" href="#bci_build.package.Replacement.file_name" title="bci_build.package.Replacement.file_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">file_name</span></code></a>, <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> or <code class="file docutils literal notranslate"><span class="pre">$pkg_name.kiwi</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.Replacement.to_service">
<span class="sig-name descname"><span class="pre">to_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Service</span></span></span><a class="headerlink" href="#bci_build.package.Replacement.to_service" title="Link to this definition">¶</a></dt>
<dd><p>Convert this replacement into a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Service</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.generate_disk_size_constraints">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">generate_disk_size_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size_gb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bci_build.package.generate_disk_size_constraints" title="Link to this definition">¶</a></dt>
<dd><p>Creates the contents of a <code class="file docutils literal notranslate"><span class="pre">_constraints</span></code> file for OBS to require
workers with at least <code class="docutils literal notranslate"><span class="pre">size_gb</span></code> GB of disk space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.main">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#bci_build.package.main" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-bci_build.package.versions">
<span id="bci-build-package-versions-module"></span><h2><a class="reference internal" href="#module-bci_build.package.versions" title="bci_build.package.versions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build.package.versions</span></code></a> module<a class="headerlink" href="#module-bci_build.package.versions" title="Link to this heading">¶</a></h2>
<p>This module contains a simple mechanism to store the package versions for
various code streams in a json file.</p>
<p>We need to know the version of certain packages in the distribution to be able
to hardcode it in READMEs as we cannot let the build service create READMEs for
us (this is a hard to work around limitation of OBS and the
<a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version">replace_using_package_version</a>
service).</p>
<p>Therefore we keep a single json file in the code with all packages and their
version per code stream in the git repository of the following form:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;nginx&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;Tumbleweed&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.25.5&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;6&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.21.5&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;5&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.21.5&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The package versions are available via the function <a class="reference internal" href="#bci_build.package.versions.get_pkg_version" title="bci_build.package.versions.get_pkg_version"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_pkg_version()</span></code></a>.</p>
<p>The json file is updated via the function <a class="reference internal" href="#bci_build.package.versions.run_version_update" title="bci_build.package.versions.run_version_update"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_version_update()</span></code></a>. It can
also be called directly via <strong class="command">poetry run update-versions</strong> and is also
run in the CI via <code class="file docutils literal notranslate"><span class="pre">.github/workflows/update-versions.yml</span></code>.</p>
<p>To add a new package to the versions json, add it’s package name and all code
streams with a dummy version, e.g.:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;mariadb&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;Tumbleweed&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;6&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Save the file and run the version update. <a class="reference internal" href="#bci_build.package.versions.update_versions" title="bci_build.package.versions.update_versions"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_versions()</span></code></a> will fetch
the current version for every code stream that is present in the dictionary.</p>
<p>For some packages we do not need to know the full version, to prevent pointless
automated churn. In such a case, add the additional key <code class="docutils literal notranslate"><span class="pre">version_format</span></code> to a
package dictionary and set the value to the version format limit (e.g. <cite>major</cite>
or <cite>minor</cite>). The value must correspond to a enum value of
<a class="reference internal" href="#bci_build.package.ParseVersion" title="bci_build.package.ParseVersion"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParseVersion</span></code></a>. Applied to the above example, this
results in:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;nginx&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;parse_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;minor&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Tumbleweed&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.25&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;6&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.21&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;5&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.21&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="bci_build.package.versions.PACKAGE_VERSIONS_JSON_PATH">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">PACKAGE_VERSIONS_JSON_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/__w/BCI-dockerfile-generator/BCI-dockerfile-generator/src/bci_build/package/package_versions.json')</span></em><a class="headerlink" href="#bci_build.package.versions.PACKAGE_VERSIONS_JSON_PATH" title="Link to this definition">¶</a></dt>
<dd><p>Path to the json file where the package versions are stored</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.versions.fetch_package_version">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">fetch_package_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bci_build.package.versions.fetch_package_version" title="Link to this definition">¶</a></dt>
<dd><p>Ask the OBS API to parse the source spec file version and return it.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.versions.format_version">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">format_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ParseVersion.MAJOR</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParseVersion.MINOR</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParseVersion.PATCH</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bci_build.package.versions.format_version" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">format_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ParseVersion.PATCH_UPDATE</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParseVersion.OFFSET</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.13)"><span class="pre">NoReturn</span></a></span></span></dt>
<dd><p>Format the string <cite>ver</cite> to the supplied <cite>format</cite>, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_version</span><span class="p">(</span><span class="s1">&#39;1.2.3&#39;</span><span class="p">,</span> <span class="n">ParseVersion</span><span class="o">.</span><span class="n">MAJOR</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_version</span><span class="p">(</span><span class="s1">&#39;1.2.3&#39;</span><span class="p">,</span> <span class="n">ParseVersion</span><span class="o">.</span><span class="n">MINOR</span><span class="p">)</span>
<span class="go">1.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_version</span><span class="p">(</span><span class="s1">&#39;1.2&#39;</span><span class="p">,</span> <span class="n">ParseVersion</span><span class="o">.</span><span class="n">PATCH</span><span class="p">)</span>
<span class="go">1.2.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.versions.get_pkg_version">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">get_pkg_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OsVersion</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bci_build.package.versions.get_pkg_version" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.versions.run_version_update">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">run_version_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#bci_build.package.versions.run_version_update" title="Link to this definition">¶</a></dt>
<dd><p>Fetch the new package versions via <a class="reference internal" href="#bci_build.package.versions.update_versions" title="bci_build.package.versions.update_versions"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_versions()</span></code></a> and write
the result to the package versions json file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.versions.update_versions">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.versions.</span></span><span class="sig-name descname"><span class="pre">update_versions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bci_build.package.versions.update_versions" title="Link to this definition">¶</a></dt>
<dd><p>Fetch all package versions from the build service and return the
result. This function fetches all versions for every package and every code
stream defined in <code class="xref py py-const docutils literal notranslate"><span class="pre">PACKAGE_VERSIONS</span></code>.</p>
</dd></dl>

</section>
<section id="module-bci_build.templates">
<span id="bci-build-templates-module"></span><h2><a class="reference internal" href="#module-bci_build.templates" title="bci_build.templates"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build.templates</span></code></a> module<a class="headerlink" href="#module-bci_build.templates" title="Link to this heading">¶</a></h2>
<p>This module contains the Jinja2 templates used to generate the build
descriptions.</p>
<dl class="py data">
<dt class="sig sig-object py" id="bci_build.templates.DOCKERFILE_TEMPLATE">
<span class="sig-prename descclassname"><span class="pre">bci_build.templates.</span></span><span class="sig-name descname"><span class="pre">DOCKERFILE_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Template</span> <span class="pre">memory:7f1c0698fa10&gt;</span></em><a class="headerlink" href="#bci_build.templates.DOCKERFILE_TEMPLATE" title="Link to this definition">¶</a></dt>
<dd><p>Jinja2 template used to generate <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.templates.KIWI_TEMPLATE">
<span class="sig-prename descclassname"><span class="pre">bci_build.templates.</span></span><span class="sig-name descname"><span class="pre">KIWI_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Template</span> <span class="pre">memory:7f1c066bb4d0&gt;</span></em><a class="headerlink" href="#bci_build.templates.KIWI_TEMPLATE" title="Link to this definition">¶</a></dt>
<dd><p>Jinja2 template used to generate <code class="file docutils literal notranslate"><span class="pre">$pkg_name.kiwi</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.templates.SERVICE_TEMPLATE">
<span class="sig-prename descclassname"><span class="pre">bci_build.templates.</span></span><span class="sig-name descname"><span class="pre">SERVICE_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Template</span> <span class="pre">memory:7f1c066bbb10&gt;</span></em><a class="headerlink" href="#bci_build.templates.SERVICE_TEMPLATE" title="Link to this definition">¶</a></dt>
<dd><p>Jinja2 template used to generate <code class="file docutils literal notranslate"><span class="pre">_service</span></code>.</p>
</dd></dl>

</section>
<section id="module-dotnet">
<span id="dotnet-module"></span><h2><a class="reference internal" href="#module-dotnet" title="dotnet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dotnet</span></code></a> module<a class="headerlink" href="#module-dotnet" title="Link to this heading">¶</a></h2>
</section>
<section id="module-staging">
<span id="staging-module"></span><h2><a class="reference internal" href="#module-staging" title="staging"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging</span></code></a> module<a class="headerlink" href="#module-staging" title="Link to this heading">¶</a></h2>
</section>
<section id="module-staging.bot">
<span id="staging-bot-module"></span><h2><a class="reference internal" href="#module-staging.bot" title="staging.bot"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging.bot</span></code></a> module<a class="headerlink" href="#module-staging.bot" title="Link to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="staging.bot.GIT_COMMITTER_EMAIL">
<span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">GIT_COMMITTER_EMAIL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bci-internal&#64;suse.de'</span></em><a class="headerlink" href="#staging.bot.GIT_COMMITTER_EMAIL" title="Link to this definition">¶</a></dt>
<dd><p>email address of the bot account performing git actions</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="staging.bot.GIT_COMMITTER_NAME">
<span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">GIT_COMMITTER_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SUSE</span> <span class="pre">Update</span> <span class="pre">Bot'</span></em><a class="headerlink" href="#staging.bot.GIT_COMMITTER_NAME" title="Link to this definition">¶</a></dt>
<dd><p>full name of the bot account performing git actions</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="staging.bot.OSC_PASSWORD_ENVVAR_NAME">
<span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">OSC_PASSWORD_ENVVAR_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OSC_PASSWORD'</span></em><a class="headerlink" href="#staging.bot.OSC_PASSWORD_ENVVAR_NAME" title="Link to this definition">¶</a></dt>
<dd><p>environment variable from which the password of the bot’s user is taken</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="staging.bot.OSC_USER_ENVVAR_NAME">
<span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">OSC_USER_ENVVAR_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OSC_USER'</span></em><a class="headerlink" href="#staging.bot.OSC_USER_ENVVAR_NAME" title="Link to this definition">¶</a></dt>
<dd><p>environment variable name from which the osc username for the bot is read</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="staging.bot.OS_VERSION_NEEDS_BASE_CONTAINER">
<span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">OS_VERSION_NEEDS_BASE_CONTAINER</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><span class="pre">OsVersion</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#staging.bot.OS_VERSION_NEEDS_BASE_CONTAINER" title="Link to this definition">¶</a></dt>
<dd><p>tuple of OsVersion that need the base container to be linked into the staging
project
this is usually only necessary during the early stages of a new SLE service
pack when autobuild has not yet synced the binaries of the container images
from IBS to OBS</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="staging.bot.ProjectConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">ProjectConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#staging.bot.ProjectConfig" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.ProjectConfig.META">
<span class="sig-name descname"><span class="pre">META</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'prj'</span></em><a class="headerlink" href="#staging.bot.ProjectConfig.META" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.ProjectConfig.PRJCONF">
<span class="sig-name descname"><span class="pre">PRJCONF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'prjconf'</span></em><a class="headerlink" href="#staging.bot.ProjectConfig.PRJCONF" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="staging.bot.StagingBot">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">StagingBot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_version:</span> <span class="pre">~bci_build.os_version.OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osc_username:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repositories:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_packages:</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_osc_conf_file:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_xdg_state_home_dir:</span> <span class="pre">~tempfile.TemporaryDirectory</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_run_cmd:</span> <span class="pre">~obs_package_update.util.RunCommand</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#staging.bot.StagingBot" title="Link to this definition">¶</a></dt>
<dd><p>Bot that creates a staging project for the BCI images in the Open Build
Service via the git scm bridge.</p>
<p>This bot creates a new worktree based on the “deployment branch” (see
<a class="reference internal" href="#staging.bot.StagingBot.deployment_branch_name" title="staging.bot.StagingBot.deployment_branch_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">deployment_branch_name</span></code></a>) and writes all build recipes into it. If
this results in a change, then the changes are committed and pushed to
github.</p>
<p>A new staging project with the name <a class="reference internal" href="#staging.bot.StagingBot.staging_project_name" title="staging.bot.StagingBot.staging_project_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">staging_project_name</span></code></a> is then
created where all packages that were <strong>changed</strong> are inserted via the scm
bridge.</p>
<p>The bot needs to know the name of the user as whom it should act. The
username has to be set via the attribute <a class="reference internal" href="#staging.bot.StagingBot.osc_username" title="staging.bot.StagingBot.osc_username"><code class="xref py py-attr docutils literal notranslate"><span class="pre">osc_username</span></code></a>. This is
unfortunately necessary, as <strong class="command">osc</strong> does not provide a
straightforward way how to get the default username…</p>
<p>Additionally, the bot stores its current settings in an environment file
(with the file name <a class="reference internal" href="#staging.bot.StagingBot.DOTENV_FILE_NAME" title="staging.bot.StagingBot.DOTENV_FILE_NAME"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DOTENV_FILE_NAME</span></code></a>), which can be either
sourced directly in bash or used to create an instance of the bot via
<a class="reference internal" href="#staging.bot.StagingBot.from_env_file" title="staging.bot.StagingBot.from_env_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">StagingBot.from_env_file()</span></code></a>.</p>
<p>The bot supports running all actions as a user that is not configured in
<strong class="command">osc</strong>’s configuration file. All you have to do is to set the
environment variable <a class="reference internal" href="#staging.bot.OSC_PASSWORD_ENVVAR_NAME" title="staging.bot.OSC_PASSWORD_ENVVAR_NAME"><code class="xref py py-const docutils literal notranslate"><span class="pre">OSC_PASSWORD_ENVVAR_NAME</span></code></a> to the password of
the user that is going to be used. The <a class="reference internal" href="#staging.bot.StagingBot.setup" title="staging.bot.StagingBot.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a> function will then
create a temporary configuration file for <strong class="command">osc</strong> and also set
<code class="docutils literal notranslate"><span class="pre">XDG_STATE_HOME</span></code> to a temporary directory so that your local osc
<code class="file docutils literal notranslate"><span class="pre">cookiejar</span></code> is not modified. Both files are cleaned up via
<a class="reference internal" href="#staging.bot.StagingBot.teardown" title="staging.bot.StagingBot.teardown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">teardown()</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.StagingBot.DOTENV_FILE_NAME">
<span class="sig-name descname"><span class="pre">DOTENV_FILE_NAME</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'test-build.env'</span></em><a class="headerlink" href="#staging.bot.StagingBot.DOTENV_FILE_NAME" title="Link to this definition">¶</a></dt>
<dd><p>filename of the environment file used to store the bot’s settings</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.StagingBot.MAX_WAIT_TIME_SEC">
<span class="sig-name descname"><span class="pre">MAX_WAIT_TIME_SEC</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.13)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">21600</span></em><a class="headerlink" href="#staging.bot.StagingBot.MAX_WAIT_TIME_SEC" title="Link to this definition">¶</a></dt>
<dd><p>Maximum time to wait for a build to finish.
github actions will run for 6h at most, no point in waiting longer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.add_changelog_entry">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_changelog_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.add_changelog_entry" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.bcis">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bcis</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.BaseContainerImage" title="bci_build.package.BaseContainerImage"><span class="pre">BaseContainerImage</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#staging.bot.StagingBot.bcis" title="Link to this definition">¶</a></dt>
<dd><p>Generator for creating an iterable yielding all
<a class="reference internal" href="#bci_build.package.BaseContainerImage" title="bci_build.package.BaseContainerImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseContainerImage</span></code></a> that are in the bot’s
staging project.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.StagingBot.branch_name">
<span class="sig-name descname"><span class="pre">branch_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#staging.bot.StagingBot.branch_name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the branch to which the changes are pushed. If none is provided,
then <a class="reference internal" href="#staging.bot.StagingBot.deployment_branch_name" title="staging.bot.StagingBot.deployment_branch_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">deployment_branch_name</span></code></a> is used with a few random
ASCII characters appended.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.changelog_check_github_action">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">changelog_check_github_action</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.changelog_check_github_action" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.configure_devel_bci_package">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configure_devel_bci_package</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.configure_devel_bci_package" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.configure_devel_bci_project">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configure_devel_bci_project</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.configure_devel_bci_project" title="Link to this definition">¶</a></dt>
<dd><p>Adjust to project meta of the devel project on OBS to match the
template generated via
<a class="reference internal" href="#staging.project_setup.generate_meta" title="staging.project_setup.generate_meta"><code class="xref py py-func docutils literal notranslate"><span class="pre">staging.project_setup.generate_meta()</span></code></a>. Additionally set the
project meta from the file <code class="file docutils literal notranslate"><span class="pre">_config</span></code> in the deployment branch, set
the <code class="docutils literal notranslate"><span class="pre">OSRT:Config</span></code> attribute for pkglistgen to function as expected and
set the <code class="docutils literal notranslate"><span class="pre">OBS:RejectRequests</span></code> attribute to a warning that SRs do not
work.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.container_urls_html">
<span class="sig-name descname"><span class="pre">container_urls_html</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.container_urls_html" title="Link to this definition">¶</a></dt>
<dd><p>Pretty print the output of <a class="reference internal" href="#staging.bot.StagingBot.fetch_container_urls" title="staging.bot.StagingBot.fetch_container_urls"><code class="xref py py-func docutils literal notranslate"><span class="pre">StagingBot.fetch_container_urls()</span></code></a>
wrapped in a <code class="docutils literal notranslate"><span class="pre">&lt;details&gt;&lt;/details&gt;</span></code> HTML element for GitHub.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.continuous_rebuild_project_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">continuous_rebuild_project_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.continuous_rebuild_project_name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the continuous rebuild project on OBS.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.deployment_branch_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deployment_branch_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.deployment_branch_name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the branch for this <a class="reference internal" href="#staging.bot.StagingBot.os_version" title="staging.bot.StagingBot.os_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os_version</span></code></a>
where the build recipes are checked out by default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.fetch_build_results">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fetch_build_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#staging.build_result.RepositoryBuildResult" title="staging.build_result.RepositoryBuildResult"><span class="pre">RepositoryBuildResult</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.bot.StagingBot.fetch_build_results" title="Link to this definition">¶</a></dt>
<dd><p>Retrieves the current build results of the staging project.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.fetch_container_urls">
<span class="sig-name descname"><span class="pre">fetch_container_urls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.bot.StagingBot.fetch_container_urls" title="Link to this definition">¶</a></dt>
<dd><p>Fetch the full urls to all published containers in the staging
project including their most relevant tag (either <code class="docutils literal notranslate"><span class="pre">latest</span></code> or the
first tag). Querying a staging project without published images results
in a <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.find_missing_packages_action">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_missing_packages_action</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.find_missing_packages_action" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.find_missing_packages_on_obs">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_missing_packages_on_obs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.bot.StagingBot.find_missing_packages_on_obs" title="Link to this definition">¶</a></dt>
<dd><p>Returns the name of all packages that are currently in a git
deployment branch, but have not been setup on OBS.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.force_rebuild">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">force_rebuild</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.force_rebuild" title="Link to this definition">¶</a></dt>
<dd><p>Deletes all binaries of the project on OBS and force rebuilds everything.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.from_env_file">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_env_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#staging.bot.StagingBot" title="staging.bot.StagingBot"><span class="pre">StagingBot</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.from_env_file" title="Link to this definition">¶</a></dt>
<dd><p>Read the last saved settings from the environment file
(<a class="reference internal" href="#staging.bot.StagingBot.DOTENV_FILE_NAME" title="staging.bot.StagingBot.DOTENV_FILE_NAME"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DOTENV_FILE_NAME</span></code></a>) in the current working
directory and create a <a class="reference internal" href="#staging.bot.StagingBot" title="staging.bot.StagingBot"><code class="xref py py-class docutils literal notranslate"><span class="pre">StagingBot</span></code></a> from them.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.from_github_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_github_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">osc_username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#staging.bot.StagingBot" title="staging.bot.StagingBot"><span class="pre">StagingBot</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.from_github_comment" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.get_packages_without_changelog_addition">
<span class="sig-name descname"><span class="pre">get_packages_without_changelog_addition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">change_ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.bot.StagingBot.get_packages_without_changelog_addition" title="Link to this definition">¶</a></dt>
<dd><p>Runs a simple heuristic whether a packages’ changelog has had an
addition between <code class="docutils literal notranslate"><span class="pre">base_ref</span></code> and <code class="docutils literal notranslate"><span class="pre">change_ref</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The list of packages without a commit in the range <code class="docutils literal notranslate"><span class="pre">base_ref</span></code> and
<code class="docutils literal notranslate"><span class="pre">change_ref</span></code> that added at least four lines (= minimum length of a
one line <strong class="command">osc vc</strong> entry).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.link_base_container_to_staging">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">link_base_container_to_staging</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.link_base_container_to_staging" title="Link to this definition">¶</a></dt>
<dd><p>Links the base container for this os into
<a class="reference internal" href="#staging.bot.StagingBot.staging_project_name" title="staging.bot.StagingBot.staging_project_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">StagingBot.staging_project_name</span></code></a>. This function does nothing
if the current <a class="reference internal" href="#staging.bot.StagingBot.os_version" title="staging.bot.StagingBot.os_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os_version</span></code></a> is not in the list
<a class="reference internal" href="#staging.bot.OS_VERSION_NEEDS_BASE_CONTAINER" title="staging.bot.OS_VERSION_NEEDS_BASE_CONTAINER"><code class="xref py py-const docutils literal notranslate"><span class="pre">OS_VERSION_NEEDS_BASE_CONTAINER</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.obs_workflows_yml">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">obs_workflows_yml</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.obs_workflows_yml" title="Link to this definition">¶</a></dt>
<dd><p>The contents of <code class="file docutils literal notranslate"><span class="pre">.obs/workflows.yml</span></code> for branching each package
from the continuous rebuild project
(<a class="reference internal" href="#staging.bot.StagingBot.continuous_rebuild_project_name" title="staging.bot.StagingBot.continuous_rebuild_project_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">continuous_rebuild_project_name</span></code></a>) to the staging
sub-project.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.StagingBot.os_version">
<span class="sig-name descname"><span class="pre">os_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">OsVersion</span></em><a class="headerlink" href="#staging.bot.StagingBot.os_version" title="Link to this definition">¶</a></dt>
<dd><p>The operating system for which this instance has been created</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.StagingBot.osc_username">
<span class="sig-name descname"><span class="pre">osc_username</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#staging.bot.StagingBot.osc_username" title="Link to this definition">¶</a></dt>
<dd><p>username of the user that will be used to perform the actions by the bot.</p>
<p>This value must be provided, otherwise the post initialization function
raises an exception.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.package_names">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">package_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.package_names" title="Link to this definition">¶</a></dt>
<dd><p>Name of the packages in the staging project or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the
staging project has not been setup yet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.remote_cleanup">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remote_cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">branches</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.remote_cleanup" title="Link to this definition">¶</a></dt>
<dd><p>Deletes the branch with the test commit locally and on the remote and
removes the staging project.</p>
<p>All performed actions are permitted to fail without raising an exception
to ensure that a partially setup test run is cleaned up as much as
possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>branches</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, removes the branch locally and on the remote
(defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
<li><p><strong>obs_project</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, removes the staging project on OBS
(defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.bot.StagingBot.repositories">
<span class="sig-name descname"><span class="pre">repositories</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#staging.bot.StagingBot.repositories" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.scratch_build">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scratch_build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.scratch_build" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.setup">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.setup" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.staging_project_name">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">staging_project_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.staging_project_name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the staging project on OBS.</p>
<p>It is constructed as follows:
<code class="docutils literal notranslate"><span class="pre">home:$OSC_USER:BCI:Staging:$OS_VER:$BRANCH</span></code> where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OSC_USER</span></code>: <a class="reference internal" href="#staging.bot.StagingBot.osc_username" title="staging.bot.StagingBot.osc_username"><code class="xref py py-attr docutils literal notranslate"><span class="pre">osc_username</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OS_VER</span></code>: <a class="reference internal" href="#staging.bot.StagingBot.os_version" title="staging.bot.StagingBot.os_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os_version</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BRANCH</span></code>: <a class="reference internal" href="#staging.bot.StagingBot.branch_name" title="staging.bot.StagingBot.branch_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">branch_name</span></code></a></p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="staging.bot.StagingBot.staging_project_url">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">staging_project_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.bot.StagingBot.staging_project_url" title="Link to this definition">¶</a></dt>
<dd><p>URL to the staging project.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.teardown">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">teardown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.teardown" title="Link to this definition">¶</a></dt>
<dd><p>Local cleanup after the bot (nothing on OBS is removed and the git
repository itself is left untouched).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.wait_for_build_to_finish">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wait_for_build_to_finish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout_sec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#staging.build_result.RepositoryBuildResult" title="staging.build_result.RepositoryBuildResult"><span class="pre">RepositoryBuildResult</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.bot.StagingBot.wait_for_build_to_finish" title="Link to this definition">¶</a></dt>
<dd><p>Blocks until all builds in the staging project have finished and the
repositories are no longer dirty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout_sec</strong> – Total time in seconds to block. Defaults to
<a class="reference internal" href="#staging.bot.StagingBot.MAX_WAIT_TIME_SEC" title="staging.bot.StagingBot.MAX_WAIT_TIME_SEC"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MAX_WAIT_TIME_SEC</span></code></a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-exceptions.html#asyncio.TimeoutError" title="(in Python v3.13)"><strong>asyncio.TimeoutError</strong></a> – when build takes longer than the
    specified timeout</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.13)"><strong>RuntimeError</strong></a> – when the staging project has no build
    results (this is most likely an issue with OBS)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The last state of all packages in the staging project after the
builds finished</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.write_all_build_recipes_to_branch">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_all_build_recipes_to_branch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.write_all_build_recipes_to_branch" title="Link to this definition">¶</a></dt>
<dd><p>Creates a worktree for the branch based on the deployment branch of
this <a class="reference internal" href="#staging.bot.StagingBot.os_version" title="staging.bot.StagingBot.os_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os_version</span></code></a>, writes all image build recipes
into it, commits and then pushes the changes. Afterwards the worktree is
removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The hash of the commit including all changes by the writing the
build recipes into the worktree. If no changes were made, then
<code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.write_all_image_build_recipes">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_all_image_build_recipes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destination_prj_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.bot.StagingBot.write_all_image_build_recipes" title="Link to this definition">¶</a></dt>
<dd><p>Writes all build recipes into the folder
<code class="file docutils literal notranslate"><span class="pre">destination_prj_folder</span></code> and returns a list of files that were
written.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of all files that were written to
<code class="file docutils literal notranslate"><span class="pre">destination_prj_folder</span></code>. The files are listed relative to
<code class="file docutils literal notranslate"><span class="pre">destination_prj_folder</span></code> and don’t contain any leading path
components.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.write_cr_project_config">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_cr_project_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.write_cr_project_config" title="Link to this definition">¶</a></dt>
<dd><p>Send the configuration of the continuous rebuild project to OBS.</p>
<p>This will create the project if it did not exist already. If it exists,
then its configuration (= <code class="docutils literal notranslate"><span class="pre">meta</span></code> in OBS jargon) will be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.write_env_file">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_env_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#staging.bot.StagingBot.write_env_file" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.write_pkg_configs">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_pkg_configs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">packages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.BaseContainerImage" title="bci_build.package.BaseContainerImage"><span class="pre">BaseContainerImage</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">git_branch_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_obs_project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.write_pkg_configs" title="Link to this definition">¶</a></dt>
<dd><p>Write all package configurations (= <code class="file docutils literal notranslate"><span class="pre">_meta</span></code>) for every package
in <code class="docutils literal notranslate"><span class="pre">packages</span></code> to the project <cite>target_obs_project</cite> so that the package
is fetched via the scm bridge from the branch <cite>git_branch_name</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>packages</strong> – the BCI packages that should be added</p></li>
<li><p><strong>git_branch_name</strong> – the name of the git branch from which the sources
will be retrieved</p></li>
<li><p><strong>target_obs_project</strong> – name of the project on OBS to which the packages
will be added</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.bot.StagingBot.write_staging_project_configs">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_staging_project_configs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.StagingBot.write_staging_project_configs" title="Link to this definition">¶</a></dt>
<dd><p>Submit the <code class="docutils literal notranslate"><span class="pre">prjconf</span></code> and <code class="docutils literal notranslate"><span class="pre">meta</span></code> to the test project on OBS.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">meta</span></code> is generated using a template via
py.func:<cite>~staging.project_setup.generate_project_name</cite>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">prjconf</span></code> is taken from the file:<cite>_config</cite> file in the deployment
branch.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="staging.bot.main">
<span class="sig-prename descclassname"><span class="pre">staging.bot.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#staging.bot.main" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-staging.build_result">
<span id="staging-build-result-module"></span><h2><a class="reference internal" href="#module-staging.build_result" title="staging.build_result"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging.build_result</span></code></a> module<a class="headerlink" href="#module-staging.build_result" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="staging.build_result.PackageBuildResult">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">staging.build_result.</span></span><span class="sig-name descname"><span class="pre">PackageBuildResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#staging.build_result.PackageStatusCode" title="staging.build_result.PackageStatusCode"><span class="pre">PackageStatusCode</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">detail_message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#staging.build_result.PackageBuildResult" title="Link to this definition">¶</a></dt>
<dd><p>The build result of a single package.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageBuildResult.code">
<span class="sig-name descname"><span class="pre">code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#staging.build_result.PackageStatusCode" title="staging.build_result.PackageStatusCode"><span class="pre">PackageStatusCode</span></a></em><a class="headerlink" href="#staging.build_result.PackageBuildResult.code" title="Link to this definition">¶</a></dt>
<dd><p>build status of the package</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageBuildResult.detail_message">
<span class="sig-name descname"><span class="pre">detail_message</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#staging.build_result.PackageBuildResult.detail_message" title="Link to this definition">¶</a></dt>
<dd><p>an optional message providing additional details, e.g. on which worker
this package is being built or why it is not resolvable</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageBuildResult.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.build_result.PackageBuildResult.name" title="Link to this definition">¶</a></dt>
<dd><p>The package name</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">staging.build_result.</span></span><span class="sig-name descname"><span class="pre">PackageStatusCode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#staging.build_result.PackageStatusCode" title="Link to this definition">¶</a></dt>
<dd><p>Possible package states</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.BLOCKED">
<span class="sig-name descname"><span class="pre">BLOCKED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'blocked'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.BLOCKED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.BROKEN">
<span class="sig-name descname"><span class="pre">BROKEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'broken'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.BROKEN" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.BUILDING">
<span class="sig-name descname"><span class="pre">BUILDING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'building'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.BUILDING" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.DISABLED">
<span class="sig-name descname"><span class="pre">DISABLED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'disabled'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.DISABLED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.EXCLUDED">
<span class="sig-name descname"><span class="pre">EXCLUDED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'excluded'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.EXCLUDED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.FAILED">
<span class="sig-name descname"><span class="pre">FAILED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'failed'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.FAILED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.FINISHED">
<span class="sig-name descname"><span class="pre">FINISHED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'finished'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.FINISHED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.SCHEDULED">
<span class="sig-name descname"><span class="pre">SCHEDULED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'scheduled'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.SCHEDULED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.SIGNING">
<span class="sig-name descname"><span class="pre">SIGNING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'signing'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.SIGNING" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.SUCCEEDED">
<span class="sig-name descname"><span class="pre">SUCCEEDED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'succeeded'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.SUCCEEDED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.UNRESOLVABLE">
<span class="sig-name descname"><span class="pre">UNRESOLVABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unresolvable'</span></em><a class="headerlink" href="#staging.build_result.PackageStatusCode.UNRESOLVABLE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.build_result.PackageStatusCode.pretty_print">
<span class="sig-name descname"><span class="pre">pretty_print</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#staging.build_result.PackageStatusCode.pretty_print" title="Link to this definition">¶</a></dt>
<dd><p>Returns the value of this enum with an emoji visualizing the status.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">staging.build_result.</span></span><span class="sig-name descname"><span class="pre">RepositoryBuildResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repository:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arch:</span> <span class="pre">~bci_build.container_attributes.Arch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packages:</span> <span class="pre">list[~staging.build_result.PackageBuildResult]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirty:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#staging.build_result.RepositoryBuildResult" title="Link to this definition">¶</a></dt>
<dd><p>The build results of a repository for a specific architecture.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.arch">
<span class="sig-name descname"><span class="pre">arch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Arch</span></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.arch" title="Link to this definition">¶</a></dt>
<dd><p>repository architecture</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.code">
<span class="sig-name descname"><span class="pre">code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.code" title="Link to this definition">¶</a></dt>
<dd><p>status code (usually equals to <a class="reference internal" href="#staging.build_result.RepositoryBuildResult.state" title="staging.build_result.RepositoryBuildResult.state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">state</span></code></a>)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.dirty">
<span class="sig-name descname"><span class="pre">dirty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.dirty" title="Link to this definition">¶</a></dt>
<dd><p>if a repository is dirty, then it is still processing build jobs and has
not been fully published yet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.from_resultlist">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_resultlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs_api_reply</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#staging.build_result.RepositoryBuildResult" title="staging.build_result.RepositoryBuildResult"><span class="pre">RepositoryBuildResult</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.from_resultlist" title="Link to this definition">¶</a></dt>
<dd><p>Creates a list of :py:class`RepositoryBuildResult` from the xml API reply
received from OBS via <strong class="command">osc results --xml</strong>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.packages">
<span class="sig-name descname"><span class="pre">packages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#staging.build_result.PackageBuildResult" title="staging.build_result.PackageBuildResult"><span class="pre">PackageBuildResult</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.packages" title="Link to this definition">¶</a></dt>
<dd><p>state of all packages in this repository &amp; arch</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.project">
<span class="sig-name descname"><span class="pre">project</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.project" title="Link to this definition">¶</a></dt>
<dd><p>name of the project to which this repository belongs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.repository">
<span class="sig-name descname"><span class="pre">repository</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.repository" title="Link to this definition">¶</a></dt>
<dd><p>repository name</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.build_result.RepositoryBuildResult.state">
<span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#staging.build_result.RepositoryBuildResult.state" title="Link to this definition">¶</a></dt>
<dd><p>repository status</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="staging.build_result.is_build_failed">
<span class="sig-prename descclassname"><span class="pre">staging.build_result.</span></span><span class="sig-name descname"><span class="pre">is_build_failed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">build_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#staging.build_result.RepositoryBuildResult" title="staging.build_result.RepositoryBuildResult"><span class="pre">RepositoryBuildResult</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#staging.build_result.is_build_failed" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if any package in the list of build results is either
unresolvable or failed to build. The repositories must <strong>not</strong> be dirty,
otherwise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="staging.build_result.render_as_markdown">
<span class="sig-prename descclassname"><span class="pre">staging.build_result.</span></span><span class="sig-name descname"><span class="pre">render_as_markdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#staging.build_result.RepositoryBuildResult" title="staging.build_result.RepositoryBuildResult"><span class="pre">RepositoryBuildResult</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'https://build.opensuse.org/'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#staging.build_result.render_as_markdown" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-staging.project_setup">
<span id="staging-project-setup-module"></span><h2><a class="reference internal" href="#module-staging.project_setup" title="staging.project_setup"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging.project_setup</span></code></a> module<a class="headerlink" href="#module-staging.project_setup" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="staging.project_setup.ProjectType">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">staging.project_setup.</span></span><span class="sig-name descname"><span class="pre">ProjectType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#staging.project_setup.ProjectType" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="staging.project_setup.ProjectType.CR">
<span class="sig-name descname"><span class="pre">CR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#staging.project_setup.ProjectType.CR" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.project_setup.ProjectType.DEVEL">
<span class="sig-name descname"><span class="pre">DEVEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#staging.project_setup.ProjectType.DEVEL" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="staging.project_setup.ProjectType.STAGING">
<span class="sig-name descname"><span class="pre">STAGING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#staging.project_setup.ProjectType.STAGING" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="staging.project_setup.generate_meta">
<span class="sig-prename descclassname"><span class="pre">staging.project_setup.</span></span><span class="sig-name descname"><span class="pre">generate_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#staging.project_setup.ProjectType" title="staging.project_setup.ProjectType"><span class="pre">ProjectType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">osc_username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#staging.project_setup.generate_meta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="staging.project_setup.generate_project_name">
<span class="sig-prename descclassname"><span class="pre">staging.project_setup.</span></span><span class="sig-name descname"><span class="pre">generate_project_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OsVersion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#staging.project_setup.ProjectType" title="staging.project_setup.ProjectType"><span class="pre">ProjectType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">osc_username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#staging.project_setup.generate_project_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">bci-build-templates</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="adding_containers.html">Adding and Modifying Container Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="staging_bot.html">Staging Bot</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build.package"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build.package</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build.package.versions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build.package.versions</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build.templates"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bci_build.templates</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-dotnet"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dotnet</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-staging"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-staging.bot"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging.bot</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-staging.build_result"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging.build_result</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-staging.project_setup"><code class="xref py py-mod docutils literal notranslate"><span class="pre">staging.project_setup</span></code> module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="staging_bot.html" title="previous chapter">Staging Bot</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, SUSE LLC.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
---
staging_build:
  steps:
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: base-fips-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: busybox-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: init-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: micro-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: micro-fips-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: minimal-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: nodejs-20-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: python-3.12-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: sle15-kernel-module-devel-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
    - branch_package:
        source_project: home:pushman:BCI:CR:SLE-15-SP6
        source_package: sles15-image
        target_project: home:pushman:BCI:CR:SLE-15-SP6:Staging
  filters:
    event: pull_request

refresh_staging_project:
  steps:
    - trigger_services:
        project: home:pushman:BCI:CR:SLE-15-SP6
        package: _project
  filters:
    event: push
    branches:
      only:
        - "sle15-sp6"


refresh_devel_BCI:
  steps:
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: base-fips-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: busybox-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: init-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: micro-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: micro-fips-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: minimal-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: nodejs-20-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: python-3.12-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: sle15-kernel-module-devel-image
    - trigger_services:
        project: devel:BCI:SLE-15-SP6
        package: sles15-image
  filters:
    event: push
    branches:
      only:
        - "sle15-sp6"
